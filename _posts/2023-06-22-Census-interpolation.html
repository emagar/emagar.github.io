---
layout: single
# layout: splash
classes: wide
title: Estimation of inter-census quantities
# subtitle: 
author: eric.magar
date:   2023-06-28
last_modified_at: 2023-06-28
toc: false
mathjax: true
# teaser: /assets/img/pirinola.jpg
tags: 
  - código
  - elecciones
  - censos de población
hidden: false
---

<p>
A description and discussion of the procedure to project population data to non-census years.
</p>

<p>
Longitudinal analysis of elections is richer when socio-demographic controls are included, such as the share of indigenous language speakers or of households with earth floor in a unit. A key source of aggregate data is the census. Yet the mismatch between decennial censuses and the three-year election cycle is an obstacle. The census bureau fills the gap partially, distributing annual municipal projections of selected indicators only (see <a href="https://www.inegi.org.mx/contenidos/programas/ccpv/cpvsh/doc/serie_censal_intercensal_1990_2010.pdf">this</a> for detail). 
</p>

<p>
Systematic analysis of municipalities large and small (N &asymp; 2500), of less common units such as federal or state electoral districts, or of much more disaggregated units like secciones electorales (N &asymp; 67k) necessitates self-estimation of off-census socio-demographic indicators. This note discusses how I have achieved this, from official data, in the Recent Mexican Election Vote Returns <a href="https://github.com/emagar/elecRetrns">repository</a>.
</p>

<div id="outline-container-org452b5f4" class="outline-2">
<h2 id="org452b5f4"><span class="section-number-2">1</span> Filling gaps through projection</h2>
<div class="outline-text-2" id="text-1">
<p>
I illustrate the problem with voting age population, one denominator to compute turnout rates. We need it in triennial federal elections from 1994 to 2021. In the period, the census bureau distributes population counts for 2000, 2010, and 2020&#x2014;four "General Censuses"&#x2014;and mid-decade counts in 1995 and 2005&#x2014;two "General Counts".<sup><a id="fnr.1" class="footref" href="#fn.1">1</a></sup> From here on, `census' refers to counts and censuses indistinctly.
</p>

<p>
A geographic unit's population 18 years and older for non-census years can be projected, with inter- and extra-polation and with some assumptions, from the census figures available. Three approaches are inspected: 
</p>

<ul class="org-ul">
<li>line <b>segments</b> connecting each unit's contiguous pair of census points;</li>
<li>a <b>linear</b> regression of census points for the unit on time; and</li>
<li>a <b>log-linear</b> regression of the (log-transformed) points on time.</li>
</ul>

<p>
I compare the voting age population of municipalities generated by each. 
</p>
</div>
</div>

<div id="outline-container-orge831fbe" class="outline-2">
<h2 id="orge831fbe"><span class="section-number-2">2</span> Key assumptions</h2>
<div class="outline-text-2" id="text-2">
<p>
Projecting decennial or mid-decennial quantities yearly requires assumptions. Among them are the following:
</p>

<ol class="org-ol">
<li>Population counts, which are discrete variables, are modeled as continuous and differentiable. This in order to obtain slopes.</li>
<li>A demographic trend model underlies each approach: a straight procession in the segment and linear projections, curvilinear in the log-linear; fitting one trend for each pair of contiguous censuses in the segment approach, or a central trend for the unit from all the censuses in the other approaches.</li>
</ol>
</div>
</div>

<div id="outline-container-orgcc79e13" class="outline-2">
<h2 id="orgcc79e13"><span class="section-number-2">3</span> Segments projection</h2>
<div class="outline-text-2" id="text-3">
<p>
In this approach, a given unit's population in any year is the population recorded in the previous census plus the yearly inter-census population change times the years since that census. Formally, if \(t_1, t_2, \dots\) are contiguous census years, a given unit's population for year \(t\) is:
</p>

<p>
\[\text{pop}_t = \left\lbrace\begin{aligned}     
      & \text{pop}_{t_1} + \frac{\text{pop}_{t_2} - \text{pop}_{t_1}}{t_2 - t_1} \times (t - t_1) \; \; \text{for} \; t \in [t_1,t_2] \\
      & \text{pop}_{t_2} + \frac{\text{pop}_{t_3} - \text{pop}_{t_2}}{t_3 - t_2} \times (t - t_2) \; \; \text{for} \; t \in [t_2,t_3] \\
      & \dots
    \end{aligned}\right.\]
</p>

<p>
The plots below illustrate segments projection in two municipalities in the northern state of Coahuila. Ocampo municipality lost voting age population steadily in the period. Pay attention to circles in the plot only, black are census values, white are segments projections. The drop decelerated after a partial recovery in 2005-2010. Fitting separate straight segments for each inter-census period accommodates changing trends of demographic change. Ramos Arizpe municipality is quite different, experiencing a sharp surge in voting age population in the same period. Segments with steeper slopes capture what appears to be accelerating voting age population growth in the period. 
</p>

<table id="org93ba972" border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">
<caption class="t-above"><span class="table-number">Table 1:</span> Voting age population in two municipalities</caption>

<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left"><img src="../assets/img/mu5023p18-interpol.png" alt="mu5023p18-interpol.png" /></td>
<td class="org-left"><img src="../assets/img/mu5027p18-interpol.png" alt="mu5027p18-interpol.png" /></td>
</tr>
</tbody>
</table>

<p>
Unlike projection by interpolating values between two known censuses, projection beyond the earliest and the latest censuses involves extrapolating. Extrapolation extends the first and the last segments, pulling them further backwards/forward. Extending the 1995-2000 segment to prior years in Ocampo projects steep continuous demographic decline. This analysis works as if the 1990 census were not known, but it is. Ocampo's 1990 voting age population was 4,128. Extrapolating from 1995-2000 clearly misses the mark. 
</p>
</div>
</div>

<div id="outline-container-org59942b0" class="outline-2">
<h2 id="org59942b0"><span class="section-number-2">4</span> Linear and log-linear projections</h2>
<div class="outline-text-2" id="text-4">
<p>
The further temporally apart from a census point, the less reliable any longitudinal projection becomes. But both other approaches rely on the full census series, and not just the extreme segment, when performing extrapolation beyond a limiting census. The linear approach involves regressing a unit's census values on time, thus estimating the central trend of demographic change for the full period observed. The fitted regression line is then used to make point predictions for all non-census years. The log-linear approach does the same, but log-tranforming the census data to allow increasing trends in time.
</p>

<p>
Figure <a href="#org0a2fb23">2</a> compares linear (in blue) and log-linear (in red) regression voting age population predictions against the censuses (in solid black). Regression projections do not match census points as segments did, but they summarize the central trend neatly&#x2014;in most cases, at least. The log-tranformed approximates the Ramos Arizpe data more closely than the linear does, and this becomes clearer beyond the left and right census limits (1995 and 2020). 
</p>

<table id="org0a2fb23" border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">
<caption class="t-above"><span class="table-number">Table 2:</span> Comparing the linear and log-linear models in two municipalities</caption>

<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left"><img src="../assets/img/mu5027p18-interlog.png" alt="mu5027p18-interlog.png" /></td>
<td class="org-left"><img src="../assets/img/mu19041p18-interlog.png" alt="mu19041p18-interlog.png" /></td>
</tr>
</tbody>
</table>

<p>
Pesquería municipality in Nuevo León state is a case of extremely poor regression fit. Reached in the second half of the 2010s by Monterrey's dynamic suburban area, census data are highly volatile. Cases like this are present, but extremely rare. The table below reports regression models' quadratic mean of errors in census years. Quantities are divided by the municipio's mean voting age population in the period, thus expressing performance statistics as shares: a Relative Quadratic Mean Residual RQMR = 0.351 in Pesquería means that predictions are 35 percent off the census observations on average. Pesquería stands at the 99.96th percentile, among the bottom four hundredths percent with poorest fit.
</p>

<table id="org683de4e" border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">
<caption class="t-above"><span class="table-number">Table 3:</span> How far off are predictions in census years (as a share of the mean municipal population)?</caption>

<colgroup>
<col  class="org-left" />

<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Reverse percentile</th>
<th scope="col" class="org-right">worst</th>
<th scope="col" class="org-right">99%</th>
<th scope="col" class="org-right">95%</th>
<th scope="col" class="org-right">75%</th>
<th scope="col" class="org-right">50%</th>
<th scope="col" class="org-right">25%</th>
<th scope="col" class="org-right">5%</th>
<th scope="col" class="org-right">1%</th>
<th scope="col" class="org-right">best</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">Log linear projections</td>
<td class="org-right">.355</td>
<td class="org-right">.153</td>
<td class="org-right">.082</td>
<td class="org-right">.042</td>
<td class="org-right">.027</td>
<td class="org-right">.018</td>
<td class="org-right">.010</td>
<td class="org-right">.006</td>
<td class="org-right">.002</td>
</tr>

<tr>
<td class="org-left">Linear projections</td>
<td class="org-right">.605</td>
<td class="org-right">.178</td>
<td class="org-right">.086</td>
<td class="org-right">.042</td>
<td class="org-right">.028</td>
<td class="org-right">.019</td>
<td class="org-right">.010</td>
<td class="org-right">.006</td>
<td class="org-right">.003</td>
</tr>
</tbody>
</table>

<p>
The table reveals comparatively similar performances of the linear and log-linear projections up about the 95th percentile. The log-linear bottom 5%, however, fared substantially better than the linear. This led me to choose it for extrapolation. 
</p>

<p>
I perform off-census years projections using the following combination:
</p>

<ul class="org-ul">
<li>Interpolation: for inter-census years, I rely on the segments model.</li>
<li>Extrapolation: for years prior to the first census available and years after the latest census, I rely on log-linear regression predictions.</li>
</ul>

<p>
This combination can be seen in Figure <a href="#org93ba972">1</a>.  White circles are values segment-interpolated, exes mark log-linear-extrapolated values.    
</p>
</div>
</div>

<div id="outline-container-orgd8f85ae" class="outline-2">
<h2 id="orgd8f85ae"><span class="section-number-2">5</span> Projecting with three censuses only</h2>
<div class="outline-text-2" id="text-5">
<p>
A further obstacle for analysis is that the census bureau began distribution of sección-level census aggregates only in 2005.<sup><a id="fnr.2" class="footref" href="#fn.2">2</a></sup> So whereas five census points are available for municipal projections (six, when 1990 is added), there are three only for secciones: 2005, 2010, and 2020. 
</p>

<p>
Extrapolation plays a limited role in municipal census projections. With five censuses to estimate from, they are needed for 1994 and 1991&#x2014;both pre-competitive era elections that are often left aside&#x2014;2021 and, soon, 2024. All are close to limit censuses, ensuring limited distortion in case inferred trends were off the mark. With three censuses only for secciones electorales, extrapolations are more in number an farther from the 2005 census. I gauge three-year projections in municipios. Having census points in 1995 and 2000 (unavailable for secciones) offers leverage to verify how far off from them land predictions made with 2005-2010-2020-only.
</p>

<p>
The experiment lends stronger support to the log-linear model. The table below gauges relative quadratic mean residuals in 1995 and in 2000 from linear and log-linear predictions made with 2005&#x2013;2020 censuses only. RQMRs are not too different above the median, but patently diverge in the bottom half of the performance distributions, especially in more distant 1995. The log-linear 95th percentile voting age population prediction is 29 percent off its 1995 mean; the linear is off by 40 percent. By the 99th percentile, the linear divergence from target (132%) nearly triples the log-linear (55%). 
</p>

<table id="orgaddaac8" border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">
<caption class="t-above"><span class="table-number">Table 4:</span> How far off are 3-year predictions in 1995 and 2000?</caption>

<colgroup>
<col  class="org-left" />

<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Reverse percentile</th>
<th scope="col" class="org-right">worst</th>
<th scope="col" class="org-right">99%</th>
<th scope="col" class="org-right">95%</th>
<th scope="col" class="org-right">75%</th>
<th scope="col" class="org-right">50%</th>
<th scope="col" class="org-right">25%</th>
<th scope="col" class="org-right">5%</th>
<th scope="col" class="org-right">1%</th>
<th scope="col" class="org-right">best</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">Log-linear 1995</td>
<td class="org-right">1.881</td>
<td class="org-right">.549</td>
<td class="org-right">.290</td>
<td class="org-right">.137</td>
<td class="org-right">.074</td>
<td class="org-right">.035</td>
<td class="org-right">.006</td>
<td class="org-right">.002</td>
<td class="org-right">.000</td>
</tr>

<tr>
<td class="org-left">Linear 1995</td>
<td class="org-right">10.604</td>
<td class="org-right">1.318</td>
<td class="org-right">.404</td>
<td class="org-right">.167</td>
<td class="org-right">.092</td>
<td class="org-right">.043</td>
<td class="org-right">.010</td>
<td class="org-right">.002</td>
<td class="org-right">.000</td>
</tr>

<tr>
<td class="org-left">Log-linear 2000</td>
<td class="org-right">1.228</td>
<td class="org-right">.511</td>
<td class="org-right">.234</td>
<td class="org-right">.101</td>
<td class="org-right">.056</td>
<td class="org-right">.026</td>
<td class="org-right">.005</td>
<td class="org-right">.001</td>
<td class="org-right">.000</td>
</tr>

<tr>
<td class="org-left">Linear 2000</td>
<td class="org-right">5.185</td>
<td class="org-right">.661</td>
<td class="org-right">.250</td>
<td class="org-right">.101</td>
<td class="org-right">.052</td>
<td class="org-right">.025</td>
<td class="org-right">.005</td>
<td class="org-right">.001</td>
<td class="org-right">.000</td>
</tr>
</tbody>
</table>

<p>
Evaluation of other projection methods is desirable. Revise what demographers have written.
</p>

<p>
The procedure extends to other socio-demographic aggregate quantities. 
</p>
</div>
</div>

<div id="outline-container-org27c8702" class="outline-2">
<h2 id="org27c8702"><span class="section-number-2">6</span> References</h2>
<div class="outline-text-2" id="text-6">
<p>
Ponce López, Roberto. 2009. La geografía del voto en México: organización partidista en las secciones electorales, 1997&#x2013;2003. Tesis de licenciatura, ITAM.
</p>

<p>
Evaluating Linearly Interpolated Intercensal Estimates of Demographic and Socioeconomic Characteristics of U.S. Counties and Census Tracts 2001–2009
</p>

<p>
Margaret M. Weden, Christine E. Peterson, Jeremy N. Miles &amp; Regina A. Shih 
Population Research and Policy Review volume 34, pages541–559 (2015) &#x2013;&gt; pdf
</p>

<p>
Alexander Alkema 2021 &#x2013;&gt; pdf
</p>

<p>
Interpolating U.S. Decennial Census Tract Data from as Early as 1970 to 2010: A Longitudinal Tract Database John R. Logan,Zengwang Xu &amp;Brian J. Stults Pages 412-420 Published online: 13 May 2014
</p>
</div>
</div>
<div id="footnotes">
<h2 class="footnotes">Footnotes: </h2>
<div id="text-footnotes">

<div class="footdef"><sup><a id="fn.1" class="footnum" href="#fnr.1">1</a></sup> <div class="footpara"><p class="footpara">
INEGI replaced mid-decade `conteos' with a sample in 2015. Conteos Generales in 1995 and 2005 were a mini census, with a basic questionnaire excluding most items used in general censuses and with limited effort to re-interview non-responders. An opinion poll method was used instead in 2015, much cheaper yet hardly comparable. This note excludes the 1990 census, which needed cleaning. Repository projections include it.
</p></div></div>

<div class="footdef"><sup><a id="fn.2" class="footnum" href="#fnr.2">2</a></sup> <div class="footpara"><p class="footpara">
Ponce (2009) attempted reconstruction of pre-2005 sección-level census data. The challenge is matching localidades (in rural Mexico) and manzanas (in urban Mexico), which INEGI has used as census tracts, to secciones electorales nationwide. Geo-referenced units open room to spot overlaps towards such match. It is worth revising his data.
</p></div></div>


</div>
</div>
